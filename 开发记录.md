# 2024/6

## day 27

- 新建项目
- 搭建了界面基本结构（Layout组件）
- main中配置了标题栏样式
- renderer中设置了标题栏的可拖拽部分

# 2024/7

## day 3

- 实现了主题切换（基于CSS变量）
  - 在全局样式文件中添加两个类（`dark-theme`和 `light-theme`），当中存放同名不同值的css变量
  - 在body标签上添加 `light-theme`类作为默认样式
  - 切换时，只需要通过 `document.body.classList.toggle('dark-theme')`便可以切换样式（body同时有dark和light两个类时，后添加的dark类中重复的样式会覆盖light中的）

## day 8

- 实现动态修改标题栏样式

  - 添加 `changeTitleBar`事件，在切换主题时触发，修改标题栏的颜色
- 添加 `vue-router`
- 添加了登录窗口，实现了窗口间切换

  - 添加 `openNewWindow`事件，在登录成功后触发，打开主界面并关闭登录窗口
  - 添加 `createWindow`方法的参数，可动态设置窗口的属性
  - 通过参数中的 `route`属性可以设置窗口打开时的路由
- 添加自定表单组件 `FBtn`。

  - 引入时报错 `[Vue warn]: Property "Login" was accessed during render but is not defined on instance.`报错行为 `Login`页面中使用 `FBtn`组件的那行。报错原因是 `FBtn`的 `label`属性误加了冒号

## day 9

- 编写登录窗口样式

  <img src="C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240709104341749.png" alt="image-20240709104341749" style="zoom: 50%;" />
- 引入自定输入框组件

  - 通过 `v-model`实现了数据的双向绑定，动态传入输入框的 `label`、双向绑定 `value`、`type`属性
- 实现登录与注册窗口的动态切换

  <img src="C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240709164020892.png" alt="image-20240709164020892" style="zoom:50%;" />
- 添加注册用邮箱验证码检测窗口

  - 在主进程中添加新函数 `createModalWin`函数用于创建模态窗口，需要指定父窗口，模态窗口显示时不能操作父窗口

  <img src="C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240709203759960.png" alt="image-20240709203759960" style="zoom:50%;" />

## day 10

- 完善注册界面

  <img src="C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240710105939579.png" alt="image-20240710105939579" style="zoom:50%;" />

## day 19

- 使用pixso工具对主界面进行初步设计

![image-20240719204236110](C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240719204236110.png)

## day 20

- 之前的界面感觉不太合理。重新设计了主界面结构

![image-20240720210523568](C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240720210523568.png)


## day 21

- 实现了拖拽边框动态设置边栏宽度的功能



## day 22

- 编写左边栏的样式
- 使用apifox工具中的Mock接口来模拟获取后端数据
- 引入了axios用于发送请求。进行了简单封装
- 在vite配置文件中通过代理服务器的方式解决了跨域问题
- 新建了SearchInput组件和Icon组件。Icon组件将存放所有的图标，通过传入name属性来显示对应的图标

![image-20240722210709036](C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240722210709036.png)



## day 23

- 继续完善左边栏样式

- 新增了Avatar组件用来显示头像，传入url、size、shape三个属性来自定图片内容、大小和形状（圆形和方形）

- 编写了完善的日期处理工具

  - 可以将传入时间转换成如下显示格式：

    1. 当天的时间显示格式：`时:分 时段`，采用12小时制，且时数不需额外补零

    2. 昨天的时间显示：`昨天`
    3. 本周内的时间显示：`周n`
    4. 更早的时间显示：`年/月/日`

- 实现了列表中名称和消息处的单行文本显示，超出文本显示为省略号

  ```css
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  ```

- 完善了左边栏拖动限制和窗口min-width、min-height的限制
- 拖动边框放大窗口时边框处会有黑条出现。不过同样用electron编写的vscode也存在这种情况我就放心了

![image-20240723192342681](C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240723192342681.png)



## day 24

- 修改了左边栏滚动条的样式
  - 实现了悬浮时显示滚动条，移出时隐藏滚动条
  - 滚动条出现时不会挤压左侧内容产生偏移
- 新增了右侧页面结构对应的路由
- 实现了点击左侧聊天列表跳转至对应的路由
  - 通过代理事件进行了优化，只需绑定一个点击事件

![image-20240724202159340](C:\Users\Young\AppData\Roaming\Typora\typora-user-images\image-20240724202159340.png)
